{
  "name": "naninovel",
  "version": "1.5.0",
  "displayName": "Naninovel",
  "description": "IDE features for NaniScript â€” scenario scripting language for Naninovel visual novel engine.",
  "author": "Elringus",
  "publisher": "Elringus",
  "homepage": "https://naninovel.com",
  "icon": "icons/package-icon.png",
  "keywords": ["NaniScript", "Naninovel Script", "Scenario", "Novel", "nani"],
  "bugs": { "url": "https://naninovel.com/support" },
  "repository": { "type": "git", "url": "https://github.com/Naninovel/VSCode.git" },
  "main": "./out/main",
  "engines": { "vscode": "^1.60.0" },
  "categories": ["Programming Languages"],
  "activationEvents": [
    "onLanguage:naniscript",
    "onCommand:naninovel.goto"
  ],
  "aiKey": "AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",
  "contributes": {
    "languages": [
      {
        "id": "naniscript",
        "aliases": ["NaniScript", "naniscript"],
        "extensions": [".nani"],
        "configuration": "./language-configuration.json"
      }
    ],
    "configuration": {
      "title": "Naninovel",
      "properties": {
        "naninovel.bridgingEnabled": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Whether to enable bridging service for communication with a Unity or Web Naninovel project. Used to sync project metadata, show currently played script lines, route goto requests, etc."
        },
        "naninovel.bridgingPort": {
          "scope": "resource",
          "type": "number",
          "minimum": 1025,
          "maximum": 65535,
          "default": 41016,
          "markdownDescription": "The bridging server port number to connect to. Change both here and in the project settings in case the default port is occupied by another app. Only applies when `#naninovel.bridgingEnabled#` is enabled."
        },
        "naninovel.updateMetadata": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "markdownDescription": "Whether to sync project metadata when connecting to the bridging server and when the metadata is regenerated in the project."
        },
        "naninovel.highlightPlayedLines": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "markdownDescription": "Whether to open currently played script file and highlight the played line."
        }
      }
    },
    "commands": [
      {
        "command": "naninovel.goto",
        "title": "Goto (Naninovel)",
        "category": "Naninovel",
        "icon": { "light": "icons/icon.svg", "dark": "icons/icon.svg" }
      }
    ],
    "menus": {
      "editor/context": [
        {
          "when": "resourceLangId == naniscript",
          "command": "naninovel.goto",
          "group": "navigation"
        }
      ]
    },
    "semanticTokenTypes": [
      { "id": "CommentLine", "description": "Comment string." },
      { "id": "LabelLine", "description": "Script navigation anchor." },
      { "id": "GenericTextLine", "description": "Message text with optional inlined commands." },
      { "id": "CommandLine", "description": "A script command to execute on playback." },
      { "id": "CommandBody", "description": "Contents of the command." },
      { "id": "CommandParameter", "description": "Parameter of the command" },
      { "id": "ParameterValue", "description": "Value of the command parameter." },
      { "id": "InlinedCommand", "description": "A command inlined to generic text line." },
      { "id": "ScriptExpression", "description": "A dynamic expression to evaluate at runtime." },
      { "id": "GenericTextPrefix", "description": "A prefix with author ID and appearance placed before generic text line." },
      { "id": "InvalidSymbol", "description": "Parse error." }
    ],
    "semanticTokenScopes": [
      {
        "scopes": {
          "CommentLine": ["comment"],
          "LabelLine": ["entity.name.namespace"],
          "GenericTextLine": ["entity.other"],
          "CommandLine": ["entity.other.attribute-name"],
          "CommandBody": ["entity.other.attribute-name"],
          "CommandParameter": ["string"],
          "ParameterValue": ["entity.name.function"],
          "InlinedCommand": ["entity.other.attribute-name"],
          "ScriptExpression": ["keyword.control"],
          "GenericTextPrefix": ["entity.name.function"],
          "InvalidSymbol": ["invalid"]
        }
      }
    ]
  },
  "scripts": {
    "compile": "tsc -p ./",
    "clean": "rimraf ./server/Metadata.xml ./server/System.Reactive.xml ./server/LanguageServer.exe",
    "esbuild-base": "esbuild ./src/main.ts --bundle --outfile=out/main.js --external:vscode --format=cjs --platform=node",
    "esbuild": "npm run esbuild-base -- --sourcemap",
    "esbuild-watch": "npm run esbuild-base -- --sourcemap --watch",
    "vscode:prepublish": "npm run clean && npm run compile && npm run esbuild-base -- --minify",
    "package": "vsce package --out ./naninovel.vsix"
  },
  "devDependencies": {
    "@types/node": "^16.10.3",
    "@types/triple-beam": "^1.3.2",
    "@types/vscode": "^1.60.0",
    "esbuild": "^0.13.4",
    "rimraf": "^3.0.2",
    "typescript": "^4.4.3",
    "vsce": "^2.3.0"
  },
  "dependencies": {
    "triple-beam": "^1.3.0",
    "vscode-languageclient": "^7.0.0",
    "winston": "^3.3.3",
    "winston-transport": "^4.4.0",
    "logform": "^2.3.0"
  },
  "extensionDependencies": [
    "ms-dotnettools.vscode-dotnet-runtime"
  ]
}
